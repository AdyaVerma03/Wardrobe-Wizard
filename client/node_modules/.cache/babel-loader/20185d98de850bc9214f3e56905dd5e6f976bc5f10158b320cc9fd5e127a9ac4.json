{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Documents\\\\GitHub\\\\Wardrobe-Wizard\\\\client\\\\src\\\\pages\\\\MyOutfits\\\\MyOutfits.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"./MyOutfits.scss\";\nimport { getFavoriteOutfits, removeFavoriteOutfit, getFavImages } from \"../../utils/indexDB\";\nimport removeIcon from \"../../asset/close.svg\";\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyOutfits() {\n  _s();\n  const [outfits, setOutfits] = useState([]);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    const fetchFavoriteOutfits = async () => {\n      try {\n        const favoriteOutfits = await getFavoriteOutfits();\n        setOutfits(favoriteOutfits);\n      } catch (error) {\n        console.log(\"Failed to fetch favorite outfits:\", error);\n      }\n    };\n    const fetchFavImages = async () => {\n      try {\n        const favImages = await getFavImages();\n        setImages(favImages);\n      } catch (error) {\n        console.log(\"Failed to fetch favorite images:\", error);\n      }\n    };\n    fetchFavoriteOutfits();\n    fetchFavImages();\n  }, []);\n  const getImageSrc = imageId => {\n    const image = images.find(img => img.id === imageId);\n    console.log(\"Image ID:\", imageId);\n    console.log(\"Image Object:\", image);\n    if (image) {\n      if (typeof image.blob === 'string') {\n        return image.blob; // Assume it is a valid URL string\n      } else if (image.blob instanceof Blob) {\n        try {\n          const objectUrl = URL.createObjectURL(image.blob);\n          console.log(\"Created object URL:\", objectUrl);\n          return objectUrl;\n        } catch (error) {\n          console.error(\"Failed to create object URL:\", error);\n        }\n      } else {\n        console.error(\"Unexpected image.blob type:\", typeof image.blob);\n      }\n    }\n    return \"\"; // Return an empty string if no valid URL or Blob is found\n  };\n  if (outfits.length === 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-outfits\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"outfit-heading\",\n        children: \"My Outfits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"outfit-gallery\",\n        children: outfits.map(outfit => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outfit-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"outfit-card__header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"outfit-card__text outfit-card__heading\",\n              children: [\"Outfit \", outfit.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: removeIcon,\n              alt: \"remove button\",\n              onClick: () => {\n                removeFavoriteOutfit(outfit.id);\n              },\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"outfit-card__images\",\n            children: outfit.clothes.map(id => /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"outfit-card__image\",\n              src: getImageSrc(id),\n              alt: id\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"outfit-card__text\",\n            children: [\"Score: \", outfit.score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"outfit-card__text\",\n            children: outfit.considerations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, outfit.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(MyOutfits, \"cRC7O+k2c4toCA5Tfxxv8REcNgI=\");\n_c = MyOutfits;\nexport default MyOutfits;\nvar _c;\n$RefreshReg$(_c, \"MyOutfits\");","map":{"version":3,"names":["React","useState","useEffect","getFavoriteOutfits","removeFavoriteOutfit","getFavImages","removeIcon","Fragment","_Fragment","jsxDEV","_jsxDEV","MyOutfits","_s","outfits","setOutfits","images","setImages","error","setError","fetchFavoriteOutfits","favoriteOutfits","console","log","fetchFavImages","favImages","getImageSrc","imageId","image","find","img","id","blob","Blob","objectUrl","URL","createObjectURL","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","outfit","src","alt","onClick","clothes","score","considerations","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/Documents/GitHub/Wardrobe-Wizard/client/src/pages/MyOutfits/MyOutfits.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./MyOutfits.scss\";\r\nimport {\r\n  getFavoriteOutfits,\r\n  removeFavoriteOutfit,\r\n  getFavImages,\r\n} from \"../../utils/indexDB\";\r\nimport removeIcon from \"../../asset/close.svg\";\r\n\r\nfunction MyOutfits() {\r\n  const [outfits, setOutfits] = useState([]);\r\n  const [images, setImages] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchFavoriteOutfits = async () => {\r\n      try {\r\n        const favoriteOutfits = await getFavoriteOutfits();\r\n        setOutfits(favoriteOutfits);\r\n      } catch (error) {\r\n        console.log(\"Failed to fetch favorite outfits:\", error);\r\n      }\r\n    };\r\n\r\n    const fetchFavImages = async () => {\r\n      try {\r\n        const favImages = await getFavImages();\r\n        setImages(favImages);\r\n      } catch (error) {\r\n        console.log(\"Failed to fetch favorite images:\", error);\r\n      }\r\n    };\r\n\r\n    fetchFavoriteOutfits();\r\n    fetchFavImages();\r\n  }, []);\r\n\r\n  const getImageSrc = (imageId) => {\r\n    const image = images.find((img) => img.id === imageId);\r\n    console.log(\"Image ID:\", imageId);\r\n    console.log(\"Image Object:\", image);\r\n  \r\n    if (image) {\r\n      if (typeof image.blob === 'string') {\r\n        return image.blob; // Assume it is a valid URL string\r\n      } else if (image.blob instanceof Blob) {\r\n        try {\r\n          const objectUrl = URL.createObjectURL(image.blob);\r\n          console.log(\"Created object URL:\", objectUrl);\r\n          return objectUrl;\r\n        } catch (error) {\r\n          console.error(\"Failed to create object URL:\", error);\r\n        }\r\n      } else {\r\n        console.error(\"Unexpected image.blob type:\", typeof image.blob);\r\n      }\r\n    }\r\n  \r\n    return \"\"; // Return an empty string if no valid URL or Blob is found\r\n  };\r\n\r\n  if (outfits.length === 0) {\r\n    return <></>;\r\n  } else {\r\n    return (\r\n      <div className=\"my-outfits\">\r\n        <h1 className=\"outfit-heading\">My Outfits</h1>\r\n        <div className=\"outfit-gallery\">\r\n          {outfits.map((outfit) => (\r\n            <div key={outfit.id} className=\"outfit-card\">\r\n              <div className=\"outfit-card__header\">\r\n                <h2 className=\"outfit-card__text outfit-card__heading\">\r\n                  Outfit {outfit.id}\r\n                </h2>\r\n                <img\r\n                  src={removeIcon}\r\n                  alt=\"remove button\"\r\n                  onClick={() => {\r\n                    removeFavoriteOutfit(outfit.id);\r\n                  }}\r\n                  className=\"icon\"\r\n                />\r\n              </div>\r\n              <div className=\"outfit-card__images\">\r\n                {outfit.clothes.map((id) => (\r\n                  <img\r\n                    className=\"outfit-card__image\"\r\n                    key={id}\r\n                    src={getImageSrc(id)}\r\n                    alt={id}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <p className=\"outfit-card__text\">Score: {outfit.score}</p>\r\n              <p className=\"outfit-card__text\">{outfit.considerations}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyOutfits;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}